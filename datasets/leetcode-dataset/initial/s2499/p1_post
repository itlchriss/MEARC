The method returns a long value representing the minimum total cost.
If it is not possible to satisfy the given conditions, the method returns -1.
