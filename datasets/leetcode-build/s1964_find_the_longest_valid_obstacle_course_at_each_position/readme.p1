Preconditions:
- The input array `obstacles` is not null.
- The length of the input array `obstacles` is greater than or equal to 1.
- The elements in the input array `obstacles` are positive integers.

Postconditions:
- The output array `ans` is not null.
- The length of the output array `ans` is equal to the length of the input array `obstacles`.
- The elements in the output array `ans` are non-negative integers.
- For every index `i` between 0 and `n - 1` (inclusive), `ans[i]` is the length of the longest obstacle course in `obstacles` that satisfies the given conditions.