The return value is an integer representing the maximum number of non-empty non-overlapping subarrays with a sum equal to `target`.
The input array `nums` is not modified.
