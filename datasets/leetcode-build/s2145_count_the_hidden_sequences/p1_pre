The input array `diff` must not be null.
The length of the input array `diff` must be greater than or equal to 1.
The values in the input array `diff` must be within the range of -10^5 to 10^5.
The value of `lower` must be within the range of -10^5 to 10^5.
The value of `upper` must be within the range of -10^5 to 10^5.
The value of `lower` must be less than or equal to the value of `upper`.
