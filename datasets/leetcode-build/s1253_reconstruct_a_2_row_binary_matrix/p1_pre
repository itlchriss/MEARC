The input parameters `upper`, `lower`, and `colsum` are valid and satisfy the given constraints.
The length of `colsum` is equal to the number of columns in the matrix.
The sum of elements in `colsum` is equal to the sum of elements in the upper and lower rows.
