The input string `formula` is not null.
The input string `formula` is a valid chemical formula.
The input string `formula` consists of English letters, digits, `'('`, and `')'`.
The length of the input string `formula` is between 1 and 1000.
