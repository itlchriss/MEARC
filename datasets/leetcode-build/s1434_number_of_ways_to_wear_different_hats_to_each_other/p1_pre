The input `hats` is a 2D integer array.
The length of `hats` is equal to `n`.
Each element in `hats` is a list of unique integers.
The length of each list in `hats` is between 1 and - Each integer in `hats` is between 1 and
