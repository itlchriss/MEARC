Preconditions:
- The input `hats` is a 2D integer array.
- The length of `hats` is equal to `n`.
- Each element in `hats` is a list of unique integers.
- The length of each list in `hats` is between 1 and - Each integer in `hats` is between 1 and 
Postconditions:
- The method returns an integer.
- The returned integer represents the number of ways that the `n` people can wear different hats to each other.
- The returned integer is modulo 10^9 + 7.