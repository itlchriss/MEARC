Preconditions:
1. The input matrix `mat` is not null.
2. The input matrix `mat` has at least one row and one column.
3. The input matrix `mat` contains only binary values (0 or 1).

Postconditions:
1. The method returns an integer representing the number of submatrices that have all ones.
2. The method does not modify the input matrix `mat`.
3. The method terminates and returns a result in a reasonable amount of time for inputs within the given constraints.