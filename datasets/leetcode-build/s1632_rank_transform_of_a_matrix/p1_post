1. The output matrix must have the same dimensions as the input matrix.
2. The elements in the output matrix must be integers.
3. The rank of each element in the output matrix must be calculated correctly according to the given rules.
4. The rank of each element in the output matrix must be as small as possible.
5. The output matrix must be unique under the given rules.
